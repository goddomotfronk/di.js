/*! di-lite 24-05-2016 */
di={version:"0.3.3",createContext:function(){function a(a){for(;a.indexOf(" ")>=0;)a=a.replace(" ","");return a}function b(a){return-1!==a.indexOf("?",a.length-1)}function c(a){return a.replace("?","")}var d={map:{}};return d.entry=function(a){return d.map[a]},d.register=function(a,b,c){var e=di.entry(a,d).type(b).args(c);return d.map[a]=e,e},d.has=function(a){return null!=d.entry(a)},d.get=function(a){var e=b(a);if(a=c(a),d.has(a))return d.entry(a).object();if(e)return null;throw"Object["+a+"] is not registered"},d.create=function(a,e){var f=b(a);if(a=c(a),d.entry(a).strategy()!=di.strategy.proto)throw"Attempt to create singleton object";if(d.has(a))return d.entry(a).create(e);if(f)return null;throw"Object["+a+"] is not registered"},d.initialize=function(){for(var a in d.map){var b=d.entry(a);d.ready(d.inject(a,d.get(a),b.dependencies()))}},d.clear=function(){this.map={}},d.inject=function(e,f,g){if(g=g?g:f.dependencies,f&&g){var h="string"==typeof g?a(g).split(","):g;h.forEach(function(g){if(g=a(g)){var h=di.dependencyExpression(g),i=d.get(h.name);if(null==i&&!b(h.name))throw"Dependency ["+e+"."+h.property+"]->["+h.name+"] can not be satisfied";f[c(h.property)]=i}})}return f},d.ready=function(a){return"function"==typeof a.ready&&a.ready(),a},d},dependencyExpression:function(a){var b={},c=a,d=a;if(a.indexOf("=")>0){var e=a.split("=");c=e[0],d=e[1]}return b.name=d,b.property=c,b},entry:function(a,b){var a,c,d,e,f,g={},h=di.strategy.singleton,i=di.factory.constructor;return g.create=function(g){return h(a,d,i,c,g?g:e,b,f)},g.object=function(a){return arguments.length?(d=a,g):d=g.create()},g.strategy=function(a){return arguments.length?(h=a,g):h},g.type=function(a){return arguments.length?(c=a,g):c},g.dependencies=function(a){return arguments.length?(f=a,g):f},g.args=function(a){return arguments.length?(e=a,g):e},g.factory=function(a){return arguments.length?(i=a,g):i},g},strategy:{proto:function(a,b,c,d,e,f,g){return b=c(d,e),f.ready(f.inject(a,b,g))},singleton:function(a,b,c,d,e,f,g){return b||(b=c(d,e)),b}},factory:{constructor:function(type,args){return args instanceof Array?eval(di.utils.invokeStmt(args,"new")):new type(args)},func:function(type,args){return args instanceof Array?eval(di.utils.invokeStmt(args)):type(args)}}},di.utils={},di.utils.invokeStmt=function(a,b){var c=b?b:"";c+=" type(";for(var d=0;d<a.length;++d)c+="args["+d+"],";return d>0&&(c=c.slice(0,c.length-1)),c+=")"};